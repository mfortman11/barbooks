---
import '../styles/global.css';
import SiteHeader from '../components/SiteHeader.astro';
import SiteFooter from '../components/SiteFooter.astro';
import PageHeader from '../components/PageHeader.astro';
import PageFooter from '../components/PageFooter.astro';

interface Props {
  title: string;
  currentPage?: number;
  totalPages?: number;
  answerKeyUrl?: string;
}

const { title, currentPage = 1, totalPages = 100, answerKeyUrl } = Astro.props as Props;
---

<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>{title}</title>
</head>
<body class="bg-white min-h-screen flex flex-col">
  <div id="app">
    <SiteHeader totalPages={totalPages} currentPage={currentPage} />
    <PageHeader title={title} currentPage={currentPage} />
    <main class="flex-1 container mx-auto px-4 py-8 print:p-8 print:m-0 print:max-w-none">
      <slot />
    </main>
    <SiteFooter currentPage={currentPage} totalPages={totalPages} />
    <PageFooter currentPage={currentPage} answerKeyUrl={answerKeyUrl} />
  </div>
  
  <script define:vars={{ currentPage, answerKeyUrl }}>
    window.bookAppConfig = {
      currentPage,
      answerKeyUrl: answerKeyUrl || `https://example.com/page-${currentPage}-answers`
    };
  </script>
  <script src="/src/scripts/bookApp.ts"></script>
</body>
</html>